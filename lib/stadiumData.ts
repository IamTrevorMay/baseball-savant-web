/**
 * stadiumData — MLB park dimensions for stadium visualization.
 *
 * Wall points sampled at angular intervals from home plate:
 *   angle 45° = LF foul line, 90° = dead center, 135° = RF foul line
 *   distance in feet, height in feet
 */

export interface WallPoint {
  angle: number    // degrees from home plate (45=LF line, 90=CF, 135=RF line)
  distance: number // feet from home plate
  height: number   // wall height in feet
}

export interface StadiumDef {
  name: string
  wallPoints: WallPoint[]
}

/** Interpolate wall distance and height at any spray angle */
export function getWallAtAngle(stadium: StadiumDef, angle: number): { distance: number; height: number } {
  const pts = stadium.wallPoints
  if (pts.length === 0) return { distance: 330, height: 8 }
  if (angle <= pts[0].angle) return { distance: pts[0].distance, height: pts[0].height }
  if (angle >= pts[pts.length - 1].angle) return { distance: pts[pts.length - 1].distance, height: pts[pts.length - 1].height }

  for (let i = 0; i < pts.length - 1; i++) {
    if (angle >= pts[i].angle && angle <= pts[i + 1].angle) {
      const t = (angle - pts[i].angle) / (pts[i + 1].angle - pts[i].angle)
      return {
        distance: pts[i].distance + t * (pts[i + 1].distance - pts[i].distance),
        height: pts[i].height + t * (pts[i + 1].height - pts[i].height),
      }
    }
  }
  return { distance: 330, height: 8 }
}

export const STADIUMS: Record<string, StadiumDef> = {
  generic: {
    name: 'Generic Park',
    wallPoints: [
      { angle: 45, distance: 330, height: 8 },
      { angle: 55, distance: 355, height: 8 },
      { angle: 65, distance: 375, height: 8 },
      { angle: 75, distance: 390, height: 8 },
      { angle: 85, distance: 400, height: 8 },
      { angle: 90, distance: 400, height: 8 },
      { angle: 95, distance: 400, height: 8 },
      { angle: 105, distance: 390, height: 8 },
      { angle: 115, distance: 375, height: 8 },
      { angle: 125, distance: 355, height: 8 },
      { angle: 135, distance: 330, height: 8 },
    ],
  },
  ARI: {
    name: 'Chase Field',
    wallPoints: [
      { angle: 45, distance: 330, height: 7.5 },
      { angle: 55, distance: 356, height: 7.5 },
      { angle: 65, distance: 374, height: 7.5 },
      { angle: 75, distance: 390, height: 7.5 },
      { angle: 85, distance: 404, height: 25 },
      { angle: 90, distance: 407, height: 25 },
      { angle: 95, distance: 404, height: 25 },
      { angle: 105, distance: 390, height: 7.5 },
      { angle: 115, distance: 374, height: 7.5 },
      { angle: 125, distance: 356, height: 7.5 },
      { angle: 135, distance: 334, height: 7.5 },
    ],
  },
  ATL: {
    name: 'Truist Park',
    wallPoints: [
      { angle: 45, distance: 335, height: 6 },
      { angle: 55, distance: 360, height: 6 },
      { angle: 65, distance: 380, height: 6 },
      { angle: 75, distance: 395, height: 6 },
      { angle: 85, distance: 400, height: 6 },
      { angle: 90, distance: 400, height: 6 },
      { angle: 95, distance: 400, height: 6 },
      { angle: 105, distance: 390, height: 6 },
      { angle: 115, distance: 375, height: 6 },
      { angle: 125, distance: 350, height: 6 },
      { angle: 135, distance: 325, height: 6 },
    ],
  },
  BAL: {
    name: 'Camden Yards',
    wallPoints: [
      { angle: 45, distance: 333, height: 7 },
      { angle: 55, distance: 364, height: 7 },
      { angle: 65, distance: 378, height: 7 },
      { angle: 75, distance: 386, height: 7 },
      { angle: 82, distance: 396, height: 7 },
      { angle: 90, distance: 400, height: 7 },
      { angle: 98, distance: 386, height: 25 },
      { angle: 105, distance: 373, height: 25 },
      { angle: 115, distance: 364, height: 7 },
      { angle: 125, distance: 340, height: 7 },
      { angle: 135, distance: 318, height: 7 },
    ],
  },
  BOS: {
    name: 'Fenway Park',
    wallPoints: [
      { angle: 45, distance: 310, height: 37 },
      { angle: 52, distance: 315, height: 37 },
      { angle: 60, distance: 336, height: 37 },
      { angle: 65, distance: 365, height: 17 },
      { angle: 75, distance: 379, height: 5 },
      { angle: 85, distance: 388, height: 5 },
      { angle: 90, distance: 390, height: 5 },
      { angle: 95, distance: 388, height: 5 },
      { angle: 105, distance: 383, height: 5 },
      { angle: 115, distance: 380, height: 3 },
      { angle: 125, distance: 350, height: 3 },
      { angle: 135, distance: 302, height: 3 },
    ],
  },
  CHC: {
    name: 'Wrigley Field',
    wallPoints: [
      { angle: 45, distance: 355, height: 11.5 },
      { angle: 55, distance: 368, height: 11.5 },
      { angle: 65, distance: 388, height: 11.5 },
      { angle: 75, distance: 398, height: 11.5 },
      { angle: 85, distance: 400, height: 11.5 },
      { angle: 90, distance: 400, height: 11.5 },
      { angle: 95, distance: 400, height: 11.5 },
      { angle: 105, distance: 398, height: 11.5 },
      { angle: 115, distance: 388, height: 11.5 },
      { angle: 125, distance: 368, height: 11.5 },
      { angle: 135, distance: 353, height: 11.5 },
    ],
  },
  CWS: {
    name: 'Guaranteed Rate Field',
    wallPoints: [
      { angle: 45, distance: 330, height: 8 },
      { angle: 55, distance: 355, height: 8 },
      { angle: 65, distance: 375, height: 8 },
      { angle: 75, distance: 390, height: 8 },
      { angle: 85, distance: 399, height: 8 },
      { angle: 90, distance: 400, height: 8 },
      { angle: 95, distance: 399, height: 8 },
      { angle: 105, distance: 390, height: 8 },
      { angle: 115, distance: 375, height: 8 },
      { angle: 125, distance: 355, height: 8 },
      { angle: 135, distance: 335, height: 8 },
    ],
  },
  CIN: {
    name: 'Great American Ball Park',
    wallPoints: [
      { angle: 45, distance: 328, height: 12 },
      { angle: 55, distance: 356, height: 12 },
      { angle: 65, distance: 370, height: 8 },
      { angle: 75, distance: 385, height: 8 },
      { angle: 85, distance: 393, height: 8 },
      { angle: 90, distance: 404, height: 8 },
      { angle: 95, distance: 393, height: 8 },
      { angle: 105, distance: 385, height: 8 },
      { angle: 115, distance: 370, height: 8 },
      { angle: 125, distance: 355, height: 8 },
      { angle: 135, distance: 325, height: 8 },
    ],
  },
  CLE: {
    name: 'Progressive Field',
    wallPoints: [
      { angle: 45, distance: 325, height: 19 },
      { angle: 55, distance: 355, height: 19 },
      { angle: 65, distance: 370, height: 9 },
      { angle: 75, distance: 385, height: 9 },
      { angle: 85, distance: 396, height: 9 },
      { angle: 90, distance: 405, height: 9 },
      { angle: 95, distance: 396, height: 9 },
      { angle: 105, distance: 385, height: 9 },
      { angle: 115, distance: 370, height: 9 },
      { angle: 125, distance: 350, height: 9 },
      { angle: 135, distance: 325, height: 9 },
    ],
  },
  COL: {
    name: 'Coors Field',
    wallPoints: [
      { angle: 45, distance: 347, height: 8 },
      { angle: 55, distance: 370, height: 8 },
      { angle: 65, distance: 388, height: 8 },
      { angle: 75, distance: 406, height: 8 },
      { angle: 85, distance: 413, height: 8 },
      { angle: 90, distance: 415, height: 8 },
      { angle: 95, distance: 413, height: 8 },
      { angle: 105, distance: 406, height: 8 },
      { angle: 115, distance: 388, height: 8 },
      { angle: 125, distance: 370, height: 8 },
      { angle: 135, distance: 350, height: 8 },
    ],
  },
  DET: {
    name: 'Comerica Park',
    wallPoints: [
      { angle: 45, distance: 345, height: 8 },
      { angle: 55, distance: 365, height: 8 },
      { angle: 65, distance: 385, height: 8 },
      { angle: 75, distance: 395, height: 8 },
      { angle: 85, distance: 408, height: 8 },
      { angle: 90, distance: 420, height: 8 },
      { angle: 95, distance: 408, height: 8 },
      { angle: 105, distance: 395, height: 8 },
      { angle: 115, distance: 370, height: 8 },
      { angle: 125, distance: 350, height: 8 },
      { angle: 135, distance: 330, height: 8 },
    ],
  },
  HOU: {
    name: 'Minute Maid Park',
    wallPoints: [
      { angle: 45, distance: 315, height: 19 },
      { angle: 55, distance: 345, height: 19 },
      { angle: 65, distance: 373, height: 10 },
      { angle: 75, distance: 392, height: 10 },
      { angle: 85, distance: 404, height: 10 },
      { angle: 90, distance: 409, height: 10 },
      { angle: 95, distance: 399, height: 10 },
      { angle: 105, distance: 380, height: 6 },
      { angle: 115, distance: 362, height: 6 },
      { angle: 125, distance: 340, height: 6 },
      { angle: 135, distance: 326, height: 6 },
    ],
  },
  KC: {
    name: 'Kauffman Stadium',
    wallPoints: [
      { angle: 45, distance: 330, height: 9 },
      { angle: 55, distance: 358, height: 9 },
      { angle: 65, distance: 375, height: 9 },
      { angle: 75, distance: 387, height: 9 },
      { angle: 85, distance: 405, height: 9 },
      { angle: 90, distance: 410, height: 9 },
      { angle: 95, distance: 405, height: 9 },
      { angle: 105, distance: 387, height: 9 },
      { angle: 115, distance: 375, height: 9 },
      { angle: 125, distance: 358, height: 9 },
      { angle: 135, distance: 330, height: 9 },
    ],
  },
  LAA: {
    name: 'Angel Stadium',
    wallPoints: [
      { angle: 45, distance: 330, height: 8 },
      { angle: 55, distance: 357, height: 8 },
      { angle: 65, distance: 376, height: 8 },
      { angle: 75, distance: 390, height: 8 },
      { angle: 85, distance: 396, height: 8 },
      { angle: 90, distance: 396, height: 18 },
      { angle: 95, distance: 396, height: 8 },
      { angle: 105, distance: 390, height: 8 },
      { angle: 115, distance: 376, height: 8 },
      { angle: 125, distance: 357, height: 8 },
      { angle: 135, distance: 330, height: 8 },
    ],
  },
  LAD: {
    name: 'Dodger Stadium',
    wallPoints: [
      { angle: 45, distance: 330, height: 4 },
      { angle: 55, distance: 355, height: 4 },
      { angle: 65, distance: 375, height: 4 },
      { angle: 75, distance: 390, height: 4 },
      { angle: 85, distance: 395, height: 4 },
      { angle: 90, distance: 395, height: 4 },
      { angle: 95, distance: 395, height: 4 },
      { angle: 105, distance: 390, height: 4 },
      { angle: 115, distance: 375, height: 4 },
      { angle: 125, distance: 355, height: 4 },
      { angle: 135, distance: 330, height: 4 },
    ],
  },
  MIA: {
    name: 'loanDepot park',
    wallPoints: [
      { angle: 45, distance: 344, height: 7 },
      { angle: 55, distance: 368, height: 7 },
      { angle: 65, distance: 386, height: 7 },
      { angle: 75, distance: 396, height: 7 },
      { angle: 85, distance: 404, height: 7 },
      { angle: 90, distance: 407, height: 7 },
      { angle: 95, distance: 404, height: 7 },
      { angle: 105, distance: 392, height: 7 },
      { angle: 115, distance: 378, height: 7 },
      { angle: 125, distance: 358, height: 7 },
      { angle: 135, distance: 335, height: 7 },
    ],
  },
  MIL: {
    name: 'American Family Field',
    wallPoints: [
      { angle: 45, distance: 344, height: 8 },
      { angle: 55, distance: 362, height: 8 },
      { angle: 65, distance: 378, height: 8 },
      { angle: 75, distance: 392, height: 8 },
      { angle: 85, distance: 400, height: 8 },
      { angle: 90, distance: 400, height: 8 },
      { angle: 95, distance: 400, height: 8 },
      { angle: 105, distance: 392, height: 8 },
      { angle: 115, distance: 378, height: 8 },
      { angle: 125, distance: 362, height: 8 },
      { angle: 135, distance: 345, height: 8 },
    ],
  },
  MIN: {
    name: 'Target Field',
    wallPoints: [
      { angle: 45, distance: 339, height: 8 },
      { angle: 55, distance: 363, height: 8 },
      { angle: 65, distance: 377, height: 8 },
      { angle: 75, distance: 387, height: 8 },
      { angle: 85, distance: 404, height: 8 },
      { angle: 90, distance: 411, height: 8 },
      { angle: 95, distance: 404, height: 8 },
      { angle: 105, distance: 387, height: 8 },
      { angle: 115, distance: 370, height: 8 },
      { angle: 125, distance: 352, height: 8 },
      { angle: 135, distance: 328, height: 8 },
    ],
  },
  NYM: {
    name: 'Citi Field',
    wallPoints: [
      { angle: 45, distance: 335, height: 8 },
      { angle: 55, distance: 358, height: 8 },
      { angle: 65, distance: 378, height: 8 },
      { angle: 75, distance: 390, height: 8 },
      { angle: 85, distance: 398, height: 8 },
      { angle: 90, distance: 408, height: 8 },
      { angle: 95, distance: 398, height: 8 },
      { angle: 105, distance: 390, height: 8 },
      { angle: 115, distance: 375, height: 8 },
      { angle: 125, distance: 350, height: 8 },
      { angle: 135, distance: 330, height: 8 },
    ],
  },
  NYY: {
    name: 'Yankee Stadium',
    wallPoints: [
      { angle: 45, distance: 318, height: 8 },
      { angle: 55, distance: 349, height: 8 },
      { angle: 65, distance: 373, height: 8 },
      { angle: 75, distance: 389, height: 8 },
      { angle: 85, distance: 399, height: 8 },
      { angle: 90, distance: 408, height: 8 },
      { angle: 95, distance: 399, height: 8 },
      { angle: 105, distance: 385, height: 8 },
      { angle: 115, distance: 367, height: 8 },
      { angle: 125, distance: 344, height: 8 },
      { angle: 135, distance: 314, height: 8 },
    ],
  },
  OAK: {
    name: 'Oakland Coliseum',
    wallPoints: [
      { angle: 45, distance: 330, height: 8 },
      { angle: 55, distance: 355, height: 8 },
      { angle: 65, distance: 375, height: 8 },
      { angle: 75, distance: 388, height: 8 },
      { angle: 85, distance: 396, height: 8 },
      { angle: 90, distance: 400, height: 8 },
      { angle: 95, distance: 396, height: 8 },
      { angle: 105, distance: 388, height: 8 },
      { angle: 115, distance: 375, height: 8 },
      { angle: 125, distance: 355, height: 8 },
      { angle: 135, distance: 330, height: 8 },
    ],
  },
  PHI: {
    name: 'Citizens Bank Park',
    wallPoints: [
      { angle: 45, distance: 329, height: 6 },
      { angle: 55, distance: 355, height: 6 },
      { angle: 65, distance: 374, height: 6 },
      { angle: 75, distance: 387, height: 6 },
      { angle: 85, distance: 398, height: 6 },
      { angle: 90, distance: 401, height: 6 },
      { angle: 95, distance: 398, height: 6 },
      { angle: 105, distance: 387, height: 13 },
      { angle: 115, distance: 374, height: 13 },
      { angle: 125, distance: 348, height: 8 },
      { angle: 135, distance: 330, height: 8 },
    ],
  },
  PIT: {
    name: 'PNC Park',
    wallPoints: [
      { angle: 45, distance: 325, height: 6 },
      { angle: 55, distance: 354, height: 6 },
      { angle: 65, distance: 375, height: 6 },
      { angle: 75, distance: 389, height: 6 },
      { angle: 85, distance: 399, height: 21 },
      { angle: 90, distance: 399, height: 21 },
      { angle: 95, distance: 399, height: 6 },
      { angle: 105, distance: 385, height: 6 },
      { angle: 115, distance: 370, height: 6 },
      { angle: 125, distance: 350, height: 6 },
      { angle: 135, distance: 320, height: 6 },
    ],
  },
  SD: {
    name: 'Petco Park',
    wallPoints: [
      { angle: 45, distance: 336, height: 8 },
      { angle: 55, distance: 359, height: 8 },
      { angle: 65, distance: 382, height: 8 },
      { angle: 75, distance: 396, height: 8 },
      { angle: 85, distance: 402, height: 8 },
      { angle: 90, distance: 396, height: 8 },
      { angle: 95, distance: 398, height: 8 },
      { angle: 105, distance: 387, height: 8 },
      { angle: 115, distance: 367, height: 8 },
      { angle: 125, distance: 347, height: 8 },
      { angle: 135, distance: 322, height: 8 },
    ],
  },
  SF: {
    name: 'Oracle Park',
    wallPoints: [
      { angle: 45, distance: 339, height: 8 },
      { angle: 55, distance: 364, height: 8 },
      { angle: 65, distance: 382, height: 8 },
      { angle: 75, distance: 393, height: 8 },
      { angle: 85, distance: 399, height: 25 },
      { angle: 90, distance: 399, height: 25 },
      { angle: 95, distance: 394, height: 8 },
      { angle: 105, distance: 382, height: 8 },
      { angle: 115, distance: 365, height: 8 },
      { angle: 125, distance: 345, height: 8 },
      { angle: 135, distance: 309, height: 24 },
    ],
  },
  SEA: {
    name: 'T-Mobile Park',
    wallPoints: [
      { angle: 45, distance: 331, height: 8 },
      { angle: 55, distance: 357, height: 8 },
      { angle: 65, distance: 378, height: 8 },
      { angle: 75, distance: 390, height: 8 },
      { angle: 85, distance: 398, height: 8 },
      { angle: 90, distance: 405, height: 8 },
      { angle: 95, distance: 398, height: 8 },
      { angle: 105, distance: 386, height: 8 },
      { angle: 115, distance: 370, height: 8 },
      { angle: 125, distance: 350, height: 8 },
      { angle: 135, distance: 326, height: 8 },
    ],
  },
  STL: {
    name: 'Busch Stadium',
    wallPoints: [
      { angle: 45, distance: 336, height: 8 },
      { angle: 55, distance: 361, height: 8 },
      { angle: 65, distance: 380, height: 8 },
      { angle: 75, distance: 393, height: 8 },
      { angle: 85, distance: 400, height: 8 },
      { angle: 90, distance: 400, height: 8 },
      { angle: 95, distance: 400, height: 8 },
      { angle: 105, distance: 393, height: 8 },
      { angle: 115, distance: 380, height: 8 },
      { angle: 125, distance: 361, height: 8 },
      { angle: 135, distance: 335, height: 8 },
    ],
  },
  TB: {
    name: 'Tropicana Field',
    wallPoints: [
      { angle: 45, distance: 315, height: 9.5 },
      { angle: 55, distance: 340, height: 9.5 },
      { angle: 65, distance: 362, height: 9.5 },
      { angle: 75, distance: 385, height: 9.5 },
      { angle: 85, distance: 396, height: 9.5 },
      { angle: 90, distance: 404, height: 9.5 },
      { angle: 95, distance: 396, height: 9.5 },
      { angle: 105, distance: 385, height: 9.5 },
      { angle: 115, distance: 370, height: 9.5 },
      { angle: 125, distance: 350, height: 9.5 },
      { angle: 135, distance: 322, height: 9.5 },
    ],
  },
  TEX: {
    name: 'Globe Life Field',
    wallPoints: [
      { angle: 45, distance: 329, height: 8 },
      { angle: 55, distance: 355, height: 8 },
      { angle: 65, distance: 374, height: 14 },
      { angle: 75, distance: 389, height: 14 },
      { angle: 85, distance: 399, height: 14 },
      { angle: 90, distance: 407, height: 14 },
      { angle: 95, distance: 399, height: 14 },
      { angle: 105, distance: 387, height: 8 },
      { angle: 115, distance: 374, height: 8 },
      { angle: 125, distance: 352, height: 8 },
      { angle: 135, distance: 326, height: 8 },
    ],
  },
  TOR: {
    name: 'Rogers Centre',
    wallPoints: [
      { angle: 45, distance: 328, height: 10 },
      { angle: 55, distance: 355, height: 10 },
      { angle: 65, distance: 375, height: 10 },
      { angle: 75, distance: 390, height: 10 },
      { angle: 85, distance: 398, height: 10 },
      { angle: 90, distance: 400, height: 10 },
      { angle: 95, distance: 398, height: 10 },
      { angle: 105, distance: 390, height: 10 },
      { angle: 115, distance: 375, height: 10 },
      { angle: 125, distance: 355, height: 10 },
      { angle: 135, distance: 328, height: 10 },
    ],
  },
  WSH: {
    name: 'Nationals Park',
    wallPoints: [
      { angle: 45, distance: 336, height: 8 },
      { angle: 55, distance: 356, height: 8 },
      { angle: 65, distance: 377, height: 8 },
      { angle: 75, distance: 390, height: 8 },
      { angle: 85, distance: 398, height: 8 },
      { angle: 90, distance: 402, height: 8 },
      { angle: 95, distance: 398, height: 8 },
      { angle: 105, distance: 390, height: 8 },
      { angle: 115, distance: 370, height: 8 },
      { angle: 125, distance: 350, height: 8 },
      { angle: 135, distance: 336, height: 8 },
    ],
  },
}

export const TEAM_OPTIONS: { value: string; label: string }[] = [
  { value: 'generic', label: 'Generic Park' },
  { value: 'ARI', label: 'ARI - Chase Field' },
  { value: 'ATL', label: 'ATL - Truist Park' },
  { value: 'BAL', label: 'BAL - Camden Yards' },
  { value: 'BOS', label: 'BOS - Fenway Park' },
  { value: 'CHC', label: 'CHC - Wrigley Field' },
  { value: 'CWS', label: 'CWS - Guaranteed Rate' },
  { value: 'CIN', label: 'CIN - Great American' },
  { value: 'CLE', label: 'CLE - Progressive Field' },
  { value: 'COL', label: 'COL - Coors Field' },
  { value: 'DET', label: 'DET - Comerica Park' },
  { value: 'HOU', label: 'HOU - Minute Maid' },
  { value: 'KC', label: 'KC - Kauffman Stadium' },
  { value: 'LAA', label: 'LAA - Angel Stadium' },
  { value: 'LAD', label: 'LAD - Dodger Stadium' },
  { value: 'MIA', label: 'MIA - loanDepot park' },
  { value: 'MIL', label: 'MIL - American Family' },
  { value: 'MIN', label: 'MIN - Target Field' },
  { value: 'NYM', label: 'NYM - Citi Field' },
  { value: 'NYY', label: 'NYY - Yankee Stadium' },
  { value: 'OAK', label: 'OAK - Coliseum' },
  { value: 'PHI', label: 'PHI - Citizens Bank' },
  { value: 'PIT', label: 'PIT - PNC Park' },
  { value: 'SD', label: 'SD - Petco Park' },
  { value: 'SF', label: 'SF - Oracle Park' },
  { value: 'SEA', label: 'SEA - T-Mobile Park' },
  { value: 'STL', label: 'STL - Busch Stadium' },
  { value: 'TB', label: 'TB - Tropicana Field' },
  { value: 'TEX', label: 'TEX - Globe Life' },
  { value: 'TOR', label: 'TOR - Rogers Centre' },
  { value: 'WSH', label: 'WSH - Nationals Park' },
]
